!function(t){var i={};function e(n){if(i[n])return i[n].exports;var h=i[n]={i:n,l:!1,exports:{}};return t[n].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(n,h,function(i){return t[i]}.bind(null,h));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.r(i);var h=function(){function t(i,e,n,h,a,s,o){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=e,this.height=11,this.width=60,this.x=n+s/1.8,this.y=h+o/1.5,this.velocity=6,this.damage=5,this.number=a,this.init()}return function(t,i,e){i&&n(t.prototype,i),e&&n(t,e)}(t,[{key:"init",value:function(){var t=this;this.image=new Image,this.image.src="../imgs/rocket.png",this.image.onload=function(){t.draw()}}},{key:"draw",value:function(t,i){var e=this.x,n=this.y;if(this.ctx.drawImage(this.image,e,n,this.width,this.height),this.x+=this.velocity,this.x+this.width>this.canvas.width&&t(),i)for(var h=0;h<i.length;h++){if(e>=i[h].x&&e<=i[h].x+i[h].width)if(n>=i[h].y&&n<=i[h].y+i[h].height)return new Audio("audio/explosion.wav").play(),t(),void i[h].takeDamage(this.damage)}}}]),t}();function a(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=e,this.shooting={},this.ammo=100}return function(t,i,e){i&&a(t.prototype,i),e&&a(t,e)}(t,[{key:"shoot",value:function(t,i,e,n){this.ammo>0&&(this.shooting[this.ammo]=new h(this.canvas,this.ctx,t,i,e,n,this.ammo--))}},{key:"destroyRocket",value:function(t){delete this.shooting[t]}}]),t}();function o(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=e,this.height=200,this.width=200,this.x=100,this.y=i.height/2-this.height/2,this.speed=5,this.velocity={x:0,y:0},this.health=100}return function(t,i,e){i&&o(t.prototype,i),e&&o(t,e)}(t,[{key:"init",value:function(){var t=this;this.image=new Image,this.image.src="../imgs/ufo-spaceship.png",this.weapon=new s(this.canvas,this.ctx),this.image.onload=function(){document.addEventListener("keydown",function(i){32===i.keyCode?(console.log("shoot"),t.weapon.shoot(t.x,t.y,t.width,t.height)):37===i.keyCode?(console.log("going left"),t.x>0&&(t.velocity.x=-1*t.speed)):38===i.keyCode?(console.log("going up"),t.y>0&&(t.velocity.y=-1*t.speed)):39===i.keyCode?(console.log("going right"),t.x<t.canvas.width-t.width&&(t.velocity.x=t.speed)):40===i.keyCode?(console.log("going down"),t.y<t.canvas.height-t.height&&(t.velocity.y=t.speed)):t.velocity={x:0,y:0}})}}},{key:"draw",value:function(){this.x=Math.max(Math.min(this.x+this.velocity.x,this.canvas.width-this.width),0),this.y=Math.max(Math.min(this.y+this.velocity.y,this.canvas.height-this.height),0),this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height)}}]),t}();function c(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=e,this.height=200,this.width=200,this.x=i.width-220,this.y=i.height/2-this.height/2,this.velocity={x:3*(Math.random()>.5?1:-1),y:3*(Math.random()>.5?1:-1)},this.health=200,this.id=0}return function(t,i,e){i&&c(t.prototype,i),e&&c(t,e)}(t,[{key:"init",value:function(){var t=this;this.image=new Image,this.image.src="../imgs/villain.png",this.image.onload=function(){t.draw()}}},{key:"draw",value:function(){this.x+=this.velocity.x,this.y+=this.velocity.y,(this.x<=0||this.x>=this.canvas.width-this.width)&&(this.velocity.x*=-1),(this.y<=0||this.y>=this.canvas.height-this.height)&&(this.velocity.y*=-1),this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height),this.ctx.fillStyle="green",this.ctx.fillRect(this.x,this.y,this.health,10)}},{key:"takeDamage",value:function(t){this.health-=t,this.health<0&&(this.health=0)}}]),t}();function u(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=e,this.player=new r(this.canvas,this.ctx),this.enemies=[new l(this.canvas,this.ctx)],this.running=!1,this.score=0,this.lives=10}return function(t,i,e){i&&u(t.prototype,i),e&&u(t,e)}(t,[{key:"init",value:function(){this.player.init(),this.enemies.forEach(function(t){t.init()})}},{key:"start",value:function(){this.running=!0,this.init(),this.draw()}},{key:"stop",value:function(){this.running=!1}},{key:"draw",value:function(){var t=this;if(this.running){for(var i in this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.player.weapon.shooting)this.player.weapon.shooting[i].draw(function(){t.player.weapon.destroyRocket(i)},this.enemies);this.enemies.forEach(function(i){i.health<=0?t.destroyEnemy(i):i.draw()}),this.player.draw(),this.ctx.font="50px Arial",this.ctx.fillStyle="#fff",this.ctx.fillText("R "+this.player.weapon.ammo,20,40),this.ctx.fillText(this.player.health,this.canvas.width-120,40),this.image=new Image,this.image.src="../imgs/heart_life.png",this.ctx.drawImage(this.image,this.canvas.width-170,0,45,45),this.ctx.save(),this.ctx.restore(),window.requestAnimationFrame(function(){return t.draw()})}}},{key:"destroyEnemy",value:function(t){this.enemies=this.enemies.filter(function(i){return i.id!==t.id})}}]),t}(),y=document.createElement("canvas");y.width=window.innerWidth,y.height=window.innerHeight;var d=y.getContext("2d"),g=document.getElementById("root");window.addEventListener("resize",function(){y.width=window.innerWidth,y.height=window.innerHeight}),g.appendChild(y),new f(y,d).start()}]);